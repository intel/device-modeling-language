/*
  Â© 2025 Intel Corporation
  SPDX-License-Identifier: MPL-2.0
*/

dml 1.4;

// Test that the legacy compat params still work: For each API,
// we partition the set of compat features for that version
// in two sets A and B, each set explicitly disabled by one
// of the tests of that API.

param enabled_5a;
param enabled_5b;
param enabled_6a;
param enabled_6b;
param enabled_7a;
param enabled_7b;

#if (_compat_dml12_not != enabled_5a
     // disabled in DML 1.4, which the 6 test cases use
     || _compat_dml12_misc != enabled_5a) {
    error;
}

#if (_compat_port_obj_param != enabled_5b
     // disabled in DML 1.4, which the 6 test cases use
     || _compat_dml12_inline != enabled_5b) {
    error;
}

#if (_compat_dml12_int != enabled_6a
     || _compat_dml12_goto != enabled_6a
     || _compat_io_memory != enabled_6a) {
    error;
}

#if (_compat_shared_logs_on_device != enabled_6b
     || _compat_suppress_WLOGMIXUP != enabled_6b) {
    error;
}

#if (_compat_broken_conditional_is != enabled_7a
     || _compat_broken_unused_types != enabled_7a
     || _compat_no_method_index_asserts != enabled_7a
     || _compat_warning_statement != enabled_7a
     || _compat_lenient_typechecking != enabled_7a
     || _compat_port_proxy_ifaces != enabled_7a) {
     error;
}

#if (_compat_function_in_extern_struct != enabled_7b
     || _compat_port_proxy_attrs != enabled_7b
     || _compat_meaningless_log_levels != enabled_7b
     || _compat_optional_version_statement != enabled_7b
     || _compat_experimental_vect != enabled_7b
     || _compat_legacy_attributes != enabled_7b) {
     error;
}
